- name: minidlna Docker Container
  docker_container:
    name: minidlna
    hostname: "{{ minidlna_hostname }}"
    image: vladgh/minidlna
    pull: true
    networks_cli_compatible: yes
    networks:
      - name: "{{ docker_network_name }}"
    volumes:
      - "{{ minidlna_media_directory1 }}:/media1:rw"
      - "{{ minidlna_media_directory2 }}:/media2:rw"
    ports:
      - "{{ minidlna_port }}:8201"
    env:
      MINIDLNA_MEDIA_DIR1: "/media1"
      MINIDLNA_MEDIA_DIR2: "/media2"
      MINIDLNA_FRIENDLY_NAME: "{{ minidlna_friendly_name }}"
      MINIDLNA_PORT: "8201"
    restart_policy: unless-stopped
    memory: 1g