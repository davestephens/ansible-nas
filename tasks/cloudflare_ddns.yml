- name: Cloudflare Dynamic DNS Container
  docker_container:
    name: cloudflare-ddns
    image: oznu/cloudflare-ddns:latest
    pull: true
    network_mode: host
    env:
      ZONE: "{{ cloudflare_zone }}"
      SUBDOMAIN: "{{ cloudflare_subdomain }}"
      API_KEY: "{{ cloudflare_api_key }}"
      PROXIED: "{{ cloudflare_proxy }}"
      RRTYPE: "{{ cloudflare_type }}"
      DELETE_ON_STOP: "{{ cloudflare_delete_on_stop }}"
    restart_policy: unless-stopped
    memory: 512MB
